# ronin-exploits

[![CI](https://github.com/ronin-rb/ronin-exploits/actions/workflows/ruby.yml/badge.svg)](https://github.com/ronin-rb/ronin-exploits/actions/workflows/ruby.yml)
[![Code Climate](https://codeclimate.com/github/ronin-rb/ronin-exploits.svg)](https://codeclimate.com/github/ronin-rb/ronin-exploits)

* [Source](https://github.com/ronin-rb/ronin-exploits)
* [Issues](https://github.com/ronin-rb/ronin-exploits/issues)
* [Documentation](https://rubydoc.info/github/ronin-rb/ronin-exploits/frames)
* [Slack](https://ronin-rb.slack.com) |
  [Discord](https://discord.gg/6WAb3PsVX9) |
  [Twitter](https://twitter.com/ronin_rb)

## Description

ronin-exploits is a Ruby library for writing and running exploits.

ronin-exploits is part of the [ronin-rb] project, a [Ruby] toolkit for security
research and development.

## Features

* Define Exploits based on:
  * Whether they are local or remote.
  * Protocol they use.
  * Contributing authors.
  * Exploited behaviors.
  * Disclosure status.
  * Level of weaponization.
  * Architectures they target.
  * OSes they target.
  * Products they target.
* Provides a simple three phase process of building, verifying and
  deploying Exploits.
* Allows adding arbitrary target data to the targets of Exploits.
* Allows embedding payloads into Exploits.
* Allows using a raw-payload with an Exploit.
* Provides the following Exploit classes:
  * {Ronin::Exploits::Exploit}
  * {Ronin::Exploits::Local}
  * {Ronin::Exploits::Remote}
  * {Ronin::Exploits::RemoteTCP}
  * {Ronin::Exploits::RemoteUDP}
  * {Ronin::Exploits::HTTP}
  * {Ronin::Exploits::FTP}
  * {Ronin::Exploits::Web}
  * {Ronin::Exploits::LFI}
  * {Ronin::Exploits::RFI}
  * {Ronin::Exploits::SQLi}
* Provides the following Exploit helpers:
  * {Ronin::Exploits::Helpers::Binary}
  * {Ronin::Exploits::Helpers::Padding}
  * {Ronin::Exploits::Helpers::BufferOverflow}
  * {Ronin::Exploits::Helpers::FormatString}
  * {Ronin::Exploits::Helpers::FileBuilder}
* Provides commands to automatically generate boilerplate exploits.

## Synopsis

Generate a skeleton exploit, with some custom information:

```shell
$ ronin-gen exploit example_exploit.rb \
    --name Example --arch i686 --os Linux --product "Example Product" \
    --status proven \
    --authors Postmodern --description "This is an example."
```

  * To generate other types of exploits specify one of the following:
    * `local_exploit`
    * `remote_exploit`
    * `remote_tcp_exploit`
    * `remote_udp_exploit`
    * `ftp_exploit`
    * `http_exploit`
    * `web_exploit`

Generate a skeleton payload, with some custom information:

```shell
$ ronin-gen payload example_payload.rb \
    --name Example --arch i686 --os Linux \
    --authors Postmodern --description "This is an example."
```

  * To generate other types of payloads specify one of the following:
    * `binary_payload`
    * `shellcode`
    * `nops`

List available exploits:

```shell
$ ronin-exploits list
```

Print information about an exploit:

```shell
$ ronin-exploits info NAME
```

Build and deploy an exploit:

```shell
$ ronin-exploits run NAME --host example.com --port 9999
```

Load an exploit from a file, then build and deploy it:

```shell
$ ronin-exploits run -f FILE --host example.com --port 9999
```

Build and deploy an exploit, with a payload:

```shell
$ ronin-exploits run NAME --host example.com --port 9999 -P PAYLOAD_NAME
```

Build and deploy an exploit, with a raw payload:

```shell
$ ronin-exploits run NAME --host example.com --port 9999 --raw-payload \
    `echo -en "\x66\x31\xc0\xfe\xc0\xb3\xff\xcd\x80"`
```

## Examples

Define a remote TCP exploit:

```ruby
require 'ronin/exploits/remote_tcp'

class MyExploit < Ronin::Exploits::RemoteTCP

  include Ronin::Exploits::Mixins::BufferOverflow

  register 'my_exploit'
  description <<~DESC
    This is an example exploit.
  end

  status :potential
  released true

  author 'Postmodern'

  target do |t|
    t.targets_arch     :x86
    t.targets_os       'Linux'
    t.targets_software 'ExampleWare', '2.4.7b'
  end

  #
  # Builds the exploit.
  #
  def build
    @buffer = "USER #{build_buffer}\n"
  end

  #
  # Sends the built exploit.
  #
  def launch
    tcp_send @buffer
  end

  #
  # Cleans up after the exploit.
  #
  def cleanup
    tcp_send "QUIT"
  end

end
```

## Requirements

* [Ruby] >= 2.7.0
* [uri-query_params] ~> 0.6
* [ruby-yasm] ~> 0.2
* [ronin-support] ~> 1.0
* [ronin-sql] ~> 1.0
* [ronin-core] ~> 0.1
* [ronin-repos] ~> 0.1
* [ronin-payloads] ~> 0.1
* [ronin-post_ex] ~> 0.1

## Install

```shell
$ gem install ronin-exploits
```

## Development

1. [Fork It!](https://github.com/ronin-rb/ronin-exploits/fork)
2. Clone It!
3. `cd ronin-exploits`
4. `bundle install`
5. `git checkout -b my_feature`
6. Code It!
7. `bundle exec rake spec`
8. `git push origin my_feature`

## License

ronin-exploits - A Ruby library for ronin-rb that provides exploitation and
payload crafting functionality.

Copyright (c) 2007-2022 Hal Brodigan (postmodern.mod3 at gmail.com)

This file is part of ronin-exploits.

ronin-exploits is free software: you can redistribute it and/or modify
it under the terms of the GNU Lesser General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

ronin-exploits is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Lesser General Public License for more details.

You should have received a copy of the GNU Lesser General Public License
along with ronin-exploits.  If not, see <https://www.gnu.org/licenses/>.

[Ruby]: https://www.ruby-lang.org
[ronin-rb]: https://ronin-rb.dev

[uri-query_params]: https://github.com/postmodern/uri-query_params#readme
[ruby-yasm]: https://github.com/sophsec/ruby-yasm#readme
[ronin-support]: https://github.com/ronin-rb/ronin-support#readme
[ronin-sql]: https://github.com/ronin-rb/ronin-sql#readme
[ronin-core]: https://github.com/ronin-rb/ronin-core#readme
[ronin-repos]: https://github.com/ronin-rb/ronin-repos#readme
[ronin-payloads]: https://github.com/ronin-rb/ronin-payloads#readme
[ronin-post_ex]: https://github.com/ronin-rb/ronin-post_ex#readme
